<!DOCTYPE html>
<html lang="es">

<head>
 <meta charset="UTF-8">
 <meta name="viewport"
   content="width=device-width">

 <title>
  Select - PWA con MD
 </title>

 <meta name="theme-color"
   content="#fffbfe">
 <link rel="icon" sizes="32x32"
   href="favicon.ico">
 <link rel="manifest"
   href="site.webmanifest">

 <link rel="stylesheet"
   href="css/estilos.css">
 <script
   src="ungap/custom-elements.js">
   </script>
 <script type="module"
   src="js/configura.js"></script>

</head>

<body>

 <form id="form" novalidate
   onsubmit="procesa(event)">

  <md-top-app-bar>

   <h1>Select de equipo</h1>

   <button is="md-menu-button"
     slot="navigation"
     onclick="nav.abre()"></button>

  </md-top-app-bar>

  <main>

   <p class="md-filled-text-field">
    <md-select-menu id="selectGenero"
      required
      aria-labelledby="etiquetaGenero"
      options="opcionesDeGenero"
      oninput="copiaMensajes()">
    </md-select-menu>
    <span id="etiquetaGenero"
      accesskey="G">
     Integrantes de equipo*
    </span>
    <small id="supportingGenero">
     * Obligatorio
    </small>
   </p>

   <p>
    <button class="md-filled-button"
      style="width: 100%;">
     Ver chiste
    </button>
   </p>

  </main>

  <md-options-menu id="opcionesDeGenero"
    aria-label="Opciones de género">

   <span data-value=""
     title="Selecciona género">
   </span>

   <span data-value="liz">
    Garduño Aguilar Norma Lizet
   </span>

   <span data-value="luis">
    Hernández Izquierdo José Luis
   </span>

   <span data-value="bran">
    Hernández Pérez Brandon Jesús
   </span>

   <span data-value="ed">
    Ortíz Alejandro Edgar Alejandro
   </span>

  </md-options-menu>

  <nav-drw id="nav"></nav-drw>

 </form>

 <script type="module">
  import {
   muestraError
  } from "./lib/js/muestraError.js"
  import {
   muestraTextoDeAyuda
  } from "./lib/js/muestraTextoDeAyuda.js"

  function copiaMensajes() {
   muestraTextoDeAyuda(
    selectGenero, supportingGenero,
    "* Obligatorio")
  }
  window["copiaMensajes"] =
   copiaMensajes

  /**
   * @param {SubmitEvent} evt
   */
  function procesa(evt) {
   evt.preventDefault()
   try {
    copiaMensajes()
    if (
     selectGenero.validity.valid) {
     const genero =
      selectGenero.value
     const resultado =
      recomienda(genero)
     alert(resultado)
    }
   } catch (e) {
    muestraError(e)
   }
  }
  window["procesa"] = procesa

  /** @param {string} genero */
  function recomienda(genero) {
   if (genero === "liz") {
    return "Mamá, en el colegio me llaman distraído. " +
     "Juanito, tú vives en la casa de enfrente."
   } else if (genero === "luis") {
    return "¿Sabes cuál es el café más peligroso del mundo? " +
     "¡El ex-preso!"
   }else if (genero === "bran") {
    return "¿Qué le dice una iguana a su hermana gemela? " +
     "¡Iguanita tú!"
   }else if (genero === "ed") {
    return "¿Qué le dice una piedra a otra piedra? " +
     "¡La vida es dura!"
   }
  }
 </script>

</body>

</html>